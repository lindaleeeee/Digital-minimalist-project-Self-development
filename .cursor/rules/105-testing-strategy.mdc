---
description: Comprehensive testing strategy for backend and frontend
globs: ["**/*Test.java", "**/*.test.ts", "**/*.test.tsx"]
alwaysApply: false
---
# Testing Strategy

## Test Pyramid
- **Unit Tests** (70%): Test individual components/functions in isolation
- **Integration Tests** (20%): Test component interactions, database queries
- **E2E Tests** (10%): Test critical user flows end-to-end

## Backend Testing (Spring Boot)
```java
// Unit test with JUnit 5 + Mockito
@ExtendWith(MockitoExtension.class)
class HabitServiceTest {
  @Mock private HabitRepository repository;
  @InjectMocks private HabitService service;
  
  @Test
  void shouldCreateHabit() { /* ... */ }
}

// Integration test with @SpringBootTest
@SpringBootTest
@AutoConfigureTestDatabase
class HabitApiIntegrationTest { /* ... */ }
```

## Frontend Testing (React)
- **Unit**: Jest + React Testing Library
- **E2E**: Playwright or Cypress
- Test user interactions, not implementation details
- Aim for >80% code coverage on critical paths

## Testing Checklist
- [ ] All public methods have unit tests
- [ ] Edge cases and error scenarios covered
- [ ] Integration tests for database operations
- [ ] API endpoint tests with mock authentication
- [ ] E2E tests for critical user journeys

## See also:
- [100-error-fixing-process.mdc](100-error-fixing-process.mdc)
