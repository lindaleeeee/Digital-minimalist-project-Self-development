---
description: Logging standards and best practices across the application
globs: ["**/*.java", "**/*.ts"]
alwaysApply: false
---
# Logging Standards

## Logging Framework
- **Backend**: SLF4J + Logback
- **Frontend**: Custom logger wrapping console with levels

## Log Levels
- **TRACE**: Very detailed diagnostic information
- **DEBUG**: Detailed development information (disabled in production)
- **INFO**: General informational messages (user actions, system events)
- **WARN**: Potentially harmful situations (deprecated API usage)
- **ERROR**: Error events that might allow app to continue
- **FATAL**: Severe errors causing app termination

## Best Practices
```java
// Use parameterized logging (avoids string concatenation)
log.info("User {} performed action {}", userId, action);

// Log with context
try {
  habitService.createHabit(habit);
} catch (Exception e) {
  log.error("Failed to create habit for user {}: {}", userId, e.getMessage(), e);
}

// Avoid logging sensitive data (passwords, tokens, PII)
log.info("User authenticated: {}", maskEmail(user.getEmail()));
```

## Structured Logging
```json
{
  "timestamp": "2025-11-25T10:30:00Z",
  "level": "INFO",
  "logger": "com.app.HabitService",
  "message": "Habit created successfully",
  "context": {
    "userId": "12345",
    "habitId": "67890",
    "requestId": "abc-def-ghi"
  }
}
```

## Log Rotation & Retention
- Rotate logs daily or at 100MB size
- Retain logs for 30 days locally
- Archive to cloud storage for compliance (1 year)

## See also:
- [201-code-commenting.mdc](201-code-commenting.mdc)
